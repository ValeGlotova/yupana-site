---
layout: post
classes: wide
title: Внешние связи.
section: 30
---

Для выполнения аналитических задач по укрупненным размерностям, например "город", "торговая точка", "товарная категория"
реализован механизм внешних связей, где значения размерностей отображаются в значения полей каталогов.

Внешняя связь -- это интерфейс отображения и/или группировки размерностей который позволяет определить древовидные и 
иные структуры размерностей временного ряда. Например: ИНН организации отображается в набор значений идентификаторов
кассовых аппаратов.

Каждая внешняя связь привязана к какой-то размерности, которая в свою очередь используется для привязки к определенному
словарю, где и хранится отображение идентификатора размерности в её значение.

Например:

## Схема работы Каталога

# тут все неправильно!!!!

Представлена ниже. Основные шаги для получения списка идентификаторов тегов: 

    Каждому каталогу предустановлен один тег из списка  (разные каталоги, могут использовать один и тот же тег)
    Выполняется поиск нужного Dictionary по идентификатору тега, привязанного к каталогу
    При запросе к каталогу указываются значения его полей, по которым надо найти теги
    Из значений полей каталога формируется фильтр для получения данных из источника. 
    Выполняется запрос в источник данных для получения записей, ассоциированных с идентификаторами тегов в Dictionary. В данном случае выполняется запрос в ОФД, который возвращает идентификаторы касс
    По полученным данным из Dictionary извлекаются идентификаторы тегов. Dictionary при этом определяется по указанному полю tagName в реализации каталога из п.1
